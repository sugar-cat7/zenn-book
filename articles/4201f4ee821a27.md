---
title: "Discord Botã‚’å®Œå…¨ã«ç†è§£ã™ã‚‹"
emoji: "ğŸ’¨"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Discord, Tech, Go, å€‹äººé–‹ç™º]
published: false
---

## 1. ã¯ã˜ã‚ã«

Discord Bot ã¯ SDK ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ç°¡å˜ã«ä½œæˆã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
ãƒ†ã‚­ã‚¹ãƒˆã§ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã¯ã‚‚ã¡ã‚ã‚“ã€åŸ‹ã‚è¾¼ã¿ã€éŸ³å£°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã© Discord Bot ã§è¡¨ç¾ã§ãã‚‹ã“ã¨ã®å¹…ã¯åºƒããªã£ã¦ã„ã¾ã™ã€‚
ä»Šå›ã¯æ–°ãŸã« Discord Bot ã‚’ä½œæˆã™ã‚‹ä¸Šã§ Discord Bot ã§è¡¨ç¾ã§ãã‚‹ã“ã¨ã€ãŠã‚ˆã³é‹ç”¨ã™ã‚‹ä¸Šã§ã®æ³¨æ„ç‚¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

æœ¬è¨˜äº‹ã®å†…å®¹ã¯`Go(v1.20)ã¨discordgo(v0.27.1)`ã‚’ä½¿ç”¨ã—ä½œæˆã—ã¦ã„ã¾ã™ã€‚

### å¯¾è±¡èª­è€…

- Discord Bot ã‚’ä½œæˆã—ãŸã„äºº
- Discord Bot ã®é‹ç”¨ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„äºº

## 2. Discord Bot ã§è¡¨ç¾ã§ãã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ç¨®é¡

### 2.1. ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

åŸºæœ¬çš„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼ã§ã™ã€‚

![ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸](https://github.com/sugar-cat7/example-discord-bot/raw/main/simple-message/images/README/image.png)

:::details å®Ÿè£…ä¾‹

```go
dg, err := discordgo.New("Bot " + TOKEN)
...
_, err = dg.ChannelMessageSend(channelID, "Hello, Test Channel!")
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/simple-message
:::

### 2.2. ãƒ•ã‚¡ã‚¤ãƒ«

ç”»åƒã‚„å‹•ç”»ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€ä¿¡ãƒ»å…±æœ‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
![ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸](https://github.com/sugar-cat7/example-discord-bot/raw/main/file-message/images/README/image.png)

åŸºæœ¬çš„ãªå½¢å¼ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚‚ã®ãŒæ·»ä»˜ã§ãã¾ã™ã€‚

```text
ç”»åƒ: .jpg, .jpeg, .png, .gif, .webp
å‹•ç”»: .mp4, .mov
ã‚ªãƒ¼ãƒ‡ã‚£ã‚ª: .mp3, .wav
ãƒ†ã‚­ã‚¹ãƒˆ: .txt, .md, .log
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx
åœ§ç¸®ãƒ•ã‚¡ã‚¤ãƒ«: .zip, .rar, .tar.gz
```

â€» ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¯¾ã—ã¦ã¯æœ€å¤§ 8MB ã¾ã§ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ·»ä»˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

:::details å®Ÿè£…ä¾‹

```go
dg, err := discordgo.New("Bot " + TOKEN)
...
resp, err := http.Get("")
if err != nil {
    log.Fatal(err)
}
defer resp.Body.Close()

// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã—ã¦é€ä¿¡
message := &discordgo.MessageSend{
    Content: "ç”»åƒ:",
    Files: []*discordgo.File{
        {
            Name:   "sugar.png",
            Reader: resp.Body,
        },
    },
}

_, err = dg.ChannelMessageSendComplex(channelID, message)
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/file-message

:::message

å†…éƒ¨çš„ã«ã¯ io.Reader ã® interface ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã‚‚ã®ã§ã‚ã‚Œã°ã€ã©ã®ã‚ˆã†ãªå½¢å¼ã®ã‚‚ã®ã§ã‚‚æ·»ä»˜ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚

```go
type File struct {
	Name        string
	ContentType string
	Reader      io.Reader
}
```

:::

### 2.3. ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³

ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«çµµæ–‡å­—ã§ã®åå¿œã‚’è¿½åŠ ã§ãã¾ã™ã€‚

- ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¤ã‘ã‚‰ã‚Œã‚‹çµµæ–‡å­—ã¯ 2 ç¨®é¡ã‚ã‚Šã¾ã™ã€‚

- `Unicodeçµµæ–‡å­—`

![ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³1](https://github.com/sugar-cat7/example-discord-bot/raw/main/reaction-message/images/README/image.png =650x)

- `ã‚«ã‚¹ã‚¿ãƒ çµµæ–‡å­—`

![ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³2](https://github.com/sugar-cat7/example-discord-bot/raw/main/reaction-message/images/README/image-2.png =650x)

:::details å®Ÿè£…ä¾‹

```go
// Unicodeçµµæ–‡å­—
err = dg.MessageReactionAdd(channelID, message.ID, "ğŸ˜€")

// ã‚«ã‚¹ã‚¿ãƒ çµµæ–‡å­—
err = dg.MessageReactionAdd(channelID, message.ID, "emoji_name:emoji_id")
```

- emoji_id ã¯ã‚¹ã‚¿ãƒ³ãƒ—ã®ãƒªãƒ³ã‚¯ã‹ã‚‰å¾—ã‚‰ã‚Œã‚‹`XXX`ã®éƒ¨åˆ†ã§ã™ã€‚
  - `https://cdn.discordapp.com/emojis/?XXX.webp`

![emoji_id](https://github.com/sugar-cat7/example-discord-bot/raw/main/reaction-message/images/README/image-1.png)

https://github.com/sugar-cat7/example-discord-bot/tree/main/reaction-message

:::

### 2.4. ãƒªãƒ—ãƒ©ã‚¤

ç‰¹å®šã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«è¿”ä¿¡ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

![ãƒªãƒ—ãƒ©ã‚¤](https://github.com/sugar-cat7/example-discord-bot/raw/main/inline-reply/images/README/image-1.png)

:::details å®Ÿè£…ä¾‹

```go
dg, err := discordgo.New("Bot " + TOKEN)
...
m, _ := dg.ChannelMessageSend(channelID, "Hello, Test Channel!")
message := &discordgo.MessageSend{
    Content:   "This is a reply!",
    Reference: &discordgo.MessageReference{MessageID: m.ID},
}
_, err = dg.ChannelMessageSendComplex(channelID, message)
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/inline-reply
:::

### 2.5. ã‚¹ãƒ¬ãƒƒãƒ‰

ãƒˆãƒ”ãƒƒã‚¯ã”ã¨ã«åˆ†ã‘ã‚‰ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ä½œæˆã§ãã¾ã™ã€‚

![ã‚¹ãƒ¬ãƒƒãƒ‰](https://github.com/sugar-cat7/example-discord-bot/raw/main/thread-message/images/README/image.png)

:::details å®Ÿè£…ä¾‹

```go
thread, err := s.MessageThreadStartComplex(m.ChannelID, m.ID, &discordgo.ThreadStart{
    Name:                "Pong game with " + m.Author.Username,
    AutoArchiveDuration: 60,
    Invitable:           false,
    RateLimitPerUser:    10,
})
if err != nil {
    log.Println("Error starting thread:", err)
    return
}
_, err = s.ChannelMessageSend(thread.ID, "pong")
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/thread-message
:::

### 2.6. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼

ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«é–¢é€£ã™ã‚‹è¿½åŠ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ã™ã€‚

![ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼](https://github.com/sugar-cat7/example-discord-bot/raw/main/contex-menu/images/README/image-1.png =650x)

:::details å®Ÿè£…ä¾‹

```go
func registerContextMenu(s *discordgo.Session, guildID string) {
	// Define the context menu
	cmd := &discordgo.ApplicationCommand{
		Name: "share-with-me",
		Type: discordgo.MessageApplicationCommand,
	}

	_, err := s.ApplicationCommandCreate(s.State.User.ID, guildID, cmd)
	if err != nil {
		log.Println("Failed to create context menu:", err)
	}
}
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/contex-menu
:::

### 2.7. Embed ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

ãƒªãƒƒãƒãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼ã§ã™ã€‚

![Embedãƒ¡ãƒƒã‚»ãƒ¼ã‚¸](https://github.com/sugar-cat7/example-discord-bot/raw/main/embed-message/images/README/image.png)

:::message
ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€Embed ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ç¢ºèªã§ãã¾ã™ã€‚

https://autocode.com/tools/discord/embed-builder/

:::

:::details å®Ÿè£…ä¾‹

```go
dg, err := discordgo.New("Bot " + TOKEN)
...
embed := &discordgo.MessageEmbed{
    Title:       "Embed Title",
    Description: "This is an embed message",
    Color:       0x00ff00, // Green
}
_, err = dg.ChannelMessageSendEmbed(channelID, embed)
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/embed-message

:::

- åŸ‹ã‚è¾¼ã¿å¯¾è±¡ã¯ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™ã€‚

![ã‚«ã‚¹ã‚¿ãƒ ](https://github.com/sugar-cat7/example-discord-bot/raw/main/embed-message/images/README/image-1.png)

:::message
ã‚ˆã‚Šè©³ç´°ãªé …ç›®ã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
https://discord.com/developers/docs/resources/channel#embed-object

```go
type MessageEmbed struct {
	URL         string                // åŸ‹ã‚è¾¼ã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®URL
	Type        EmbedType             // åŸ‹ã‚è¾¼ã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¿ã‚¤ãƒ—
	Title       string                // åŸ‹ã‚è¾¼ã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¿ã‚¤ãƒˆãƒ«
	Description string                // åŸ‹ã‚è¾¼ã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª¬æ˜
	Timestamp   string                // åŸ‹ã‚è¾¼ã¿ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
	Color       int                   // åŸ‹ã‚è¾¼ã¿ã®è‰²ã€‚æ•´æ•°ã§RGBå½¢å¼ã§æŒ‡å®š
	Footer      *MessageEmbedFooter   // ãƒ•ãƒƒã‚¿ãƒ¼æƒ…å ±
	Image       *MessageEmbedImage    // ç”»åƒæƒ…å ±ã€‚åŸ‹ã‚è¾¼ã¿ã«ç”»åƒã‚’è¡¨ç¤ºã™ã‚‹
	Thumbnail   *MessageEmbedThumbnail// ã‚µãƒ ãƒã‚¤ãƒ«æƒ…å ±ã€‚åŸ‹ã‚è¾¼ã¿ã®å³å´ã«å°ã•ãªç”»åƒã‚’è¡¨ç¤ºã™ã‚‹
	Video       *MessageEmbedVideo    // ãƒ“ãƒ‡ã‚ªæƒ…å ±ã€‚Discordã¯ãƒ“ãƒ‡ã‚ªã‚’è¡¨ç¤ºã—ãªã„ã®ã§ã€ãƒªãƒ³ã‚¯ã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹
	Provider    *MessageEmbedProvider // ãƒ—ãƒ­ãƒã‚¤ãƒ€æƒ…å ±ã€‚YouTubeãƒ“ãƒ‡ã‚ªãªã©ã®ç‰¹æ®ŠãªåŸ‹ã‚è¾¼ã¿ã®ãŸã‚
	Author      *MessageEmbedAuthor   // è‘—è€…æƒ…å ±ã€‚è‘—è€…ã«é–¢ã™ã‚‹å°ã•ãªè¦ç´„ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹
	Fields      []*MessageEmbedField  // æƒ…å ±ã‚’åˆ—å½¢å¼ã§è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
}
```

:::

### 2.8. TTS (Text-to-Speech) ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

ãƒ†ã‚­ã‚¹ãƒˆã‚’éŸ³å£°ã«å¤‰æ›ã—ã¦èª­ã¿ä¸Šã’ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼ã§ã™ã€‚

https://youtu.be/Pazc7r_mJdo

- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ TTS ã‚’ç„¡åŠ¹ã«ã—ã¦ã„ã‚‹å ´åˆã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯é€šå¸¸ã®ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã€‚
- TTS ã®éŸ³å£°ã®ãƒ”ãƒƒãƒã‚„é€Ÿåº¦ãªã©ã®ç´°ã‹ã„è¨­å®šã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚
- TTS ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã§ã®ã¿å†ç”Ÿã•ã‚Œã‚‹ã€‚

:::details å®Ÿè£…ä¾‹

```go
dg, err := discordgo.New("Bot " + TOKEN)
...
_, err = dg.ChannelMessageSendTTS(channelID, "Hello in Text-to-Speech!")
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/tts-message
:::

### 2.9. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Button ã‚„ Select Menu)

ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã§ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’æä¾›ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚

https://discord.com/developers/docs/interactions/message-components#component-object

#### ButtonComponent

- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã‚¢ãƒ—ãƒªã«ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚’é€ä¿¡
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¡Œã®ä¸­ã§é€ä¿¡å¿…è¦
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¡Œã¯æœ€å¤§ 5 ã¤ã®ãƒœã‚¿ãƒ³ã‚’å«ã‚€ã“ã¨ãŒã§ãã€ã‚»ãƒ¬ã‚¯ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒæ™‚ã«å«ã‚€ã“ã¨ã¯ã§ãã¾ã›ã‚“

![ãƒœã‚¿ãƒ³](https://github.com/sugar-cat7/example-discord-bot/raw/main/component-message/images/README/image-1.png)

:::details å®Ÿè£…ä¾‹

```go
&discordgo.MessageComponent{
    Type: discordgo.ButtonComponent,
    Label: "Click Me!",
    Style: discordgo.PrimaryButton, // ä¾‹: ãƒ—ãƒ©ã‚¤ãƒãƒªãƒ¼ãƒœã‚¿ãƒ³
    CustomID: "button_click",
}
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/component-message
:::

#### SelectMenuComponent

- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒªã‚¹ãƒˆã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - ã‚·ãƒ³ã‚°ãƒ«ã‚»ãƒ¬ã‚¯ãƒˆã¨ãƒãƒ«ãƒã‚»ãƒ¬ã‚¯ãƒˆã‚’ã‚µãƒãƒ¼ãƒˆ
  - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¡Œå†…ã§é€ä¿¡ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€1 ã¤ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³è¡Œã«ã¯ 1 ã¤ã®ã‚»ãƒ¬ã‚¯ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ã¿å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚»ãƒ¬ã‚¯ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨ãƒœã‚¿ãƒ³ã‚’åŒæ™‚ã«å«ã‚€ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚

![ã‚»ãƒ¬ã‚¯ãƒˆ](https://github.com/sugar-cat7/example-discord-bot/raw/main/component-message/images/README/image.png)

:::details å®Ÿè£…ä¾‹

```go
&discordgo.MessageComponent{
    &discordgo.SelectMenu{
        CustomID: "select_option",
        Options: []discordgo.SelectMenuOption{
            {
                Label: "Option 1",
                Value: "opt1",
            },
            {
                Label: "Option 2",
                Value: "opt2",
            },
        },
    },
}
```

```
UserSelectMenuComponent
RoleSelectMenuComponent
MentionableSelectMenuComponent
ChannelSelectMenuComponent
```

ã«é–¢ã—ã¦ã¯åŒã˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ–¹å¼ã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚

:::

#### TextInputComponent

- ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã¯ãƒ¢ãƒ¼ãƒ€ãƒ«ã§è¡¨ç¤ºã•ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
  - çŸ­ã„ãƒ•ã‚©ãƒ¼ãƒ ã¾ãŸã¯é•·ã„ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ†ã‚­ã‚¹ãƒˆã®åé›†ã«é©ã—ã¦ã„ã¾ã™ã€‚

![Modal](https://github.com/sugar-cat7/example-discord-bot/raw/main/interaction/images/README/image-2.png)
â€»ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ Interaction ã®ã¿ã§åˆ©ç”¨å¯èƒ½ã§ã™ã€‚

:::details å®Ÿè£…ä¾‹

```go
discordgo.TextInput{
    CustomID:    "text_input",
    Placeholder: "Enter some text here",
    Style:       discordgo.TextInputParagraph,
}
```

:::

:::message

### Interaction ã¨ã¯

:::

- ãƒœã‚¿ãƒ³ã€ã‚»ãƒ¬ã‚¯ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ãªã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ´»ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«å¿œç­”ã™ã‚‹ã“ã¨ãŒã§ãã‚‹æ©Ÿèƒ½ã§ã™ã€‚

https://discord.com/developers/docs/interactions/receiving-and-responding

### Interaction ã®ç¨®é¡:

1. **ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ (Slash Commands)**:

   - `/` ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒãƒ³ãƒ‰ã‚’èµ·å‹•ã™ã‚‹æ©Ÿèƒ½ã€‚
   - ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã—ã¦ã€ç‰¹å®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚„å¿œç­”ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
   - ã‚°ãƒ­ãƒ¼ãƒãƒ«ã¾ãŸã¯ç‰¹å®šã®ã‚µãƒ¼ãƒãƒ¼ã§ã®ã¿ä½¿ç”¨ã™ã‚‹ãŸã‚ã«ç™»éŒ²ã§ãã‚‹ã€‚

2. **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Message Components)**:

   - å‰è¿°ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(TextInput ãªã©)ã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã‚‹ã€‚

3. **ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ (Context Menus)**:
   - ãƒ¦ãƒ¼ã‚¶ã‚„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¯¾ã—ã¦ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€‚
   - ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ã¨åŒæ§˜ã®ç™»éŒ²ã¨å‡¦ç†ãƒ•ãƒ­ãƒ¼ã‚’æŒã¤ã€‚

:::message alert
Interaction ã«ã¯å¿œç­”æ™‚é–“ã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ 3 ç§’ä»¥å†…)
:::

ã“ã®æ™‚é–“åˆ¶é™ã‚’è€ƒæ…®ã—ã€é‡ã„å‡¦ç†ã‚’è¡Œã†å ´åˆã¯éåŒæœŸã§è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä¸‹è¨˜ã®è¨˜äº‹ã§ã¯ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ä»˜ã‘ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç”¨æ„ã— PubSub ã‚­ãƒ¥ãƒ¼ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã™ã‚‹ã‚ˆã†ãªæ§‹æˆã«ã™ã‚‹ã“ã¨ã§ã€Discord Bot ã¸ã®å¿œç­”ã‚’è¿”ã—ã¤ã¤ã€éåŒæœŸã§ã®å‡¦ç†ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

https://zenn.dev/suzuesa/articles/2bf80f33013a14

### 2.10. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

ç‰¹å®šã®æ™‚é–“ã‚„æ—¥ä»˜ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°æ©Ÿèƒ½ã§ã™ã€‚

![ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«](https://github.com/sugar-cat7/example-discord-bot/raw/main/schedule-event/images/README/image-1.png)

https://discord.com/developers/docs/resources/guild-scheduled-event#guild-scheduled-event

:::details å®Ÿè£…ä¾‹

```go
dg, err := discordgo.New("Bot " + TOKEN)
...
params := &discordgo.GuildScheduledEventParams{
    Name:               "ã‚¤ãƒ™ãƒ³ãƒˆå",
    Description:        "ã‚¤ãƒ™ãƒ³ãƒˆã®èª¬æ˜",
    ScheduledStartTime: &startTime,
    ScheduledEndTime:   &endTime,
    PrivacyLevel:       discordgo.GuildScheduledEventPrivacyLevelGuildOnly,
    EntityType:         discordgo.GuildScheduledEventEntityTypeExternal,
    EntityMetadata:     &discordgo.GuildScheduledEventEntityMetadata{Location: "å ´æ‰€ã®æƒ…å ±"},
}

// ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ä½œæˆ
_, err = dg.GuildScheduledEventCreate(guildID, params)
```

https://github.com/sugar-cat7/example-discord-bot/tree/main/schedule-event
:::

### 2.11. ãƒœã‚¤ã‚¹ãƒãƒ£ãƒ³ãƒãƒ«ã§ã®éŸ³å£°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®éŸ³å£°ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿç¾ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚

â€»éŸ³é‡æ³¨æ„
https://youtu.be/bMsyCeMzY7w

| æ©Ÿèƒ½                                       | å®Ÿè£…ä¾‹                                         | èª¬æ˜                                                                                                                            |
| ------------------------------------------ | ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
| ãƒœã‚¤ã‚¹ãƒãƒ£ãƒ³ãƒãƒ«ã¸ã®å‚åŠ ãƒ»é€€å‡º             | `dg.ChannelVoiceJoin(...)` / `v.Disconnect()`  | Bot ãŒãƒœã‚¤ã‚¹ãƒãƒ£ãƒ³ãƒãƒ«ã«å‚åŠ ãƒ»é€€å‡ºã™ã‚‹ãŸã‚ã®åŸºæœ¬çš„ãªãƒ¡ã‚½ãƒƒãƒ‰                                                                    |
| éŸ³å£°ã®å—ä¿¡                                 | `v.OpusRecv`                                   | Bot ãŒä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®éŸ³å£°ã‚’å—ã‘å–ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã€‚å…·ä½“çš„ã«ã¯ PCM ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå¯èƒ½                                 |
| éŸ³å£°ã®é€ä¿¡                                 | `v.OpusSend`                                   | Bot ãŒä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®éŸ³å£°ã‚’å—ã‘å–ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã€‚å…·ä½“çš„ã«ã¯ Opus å½¢å¼ã®éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹                                |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒŸãƒ¥ãƒ¼ãƒˆåˆ¶å¾¡                     | `dg.GuildMemberMute(...)`                      | ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ãƒŸãƒ¥ãƒ¼ãƒˆã«ã™ã‚‹ã€ã¾ãŸã¯ãƒŸãƒ¥ãƒ¼ãƒˆã‚’è§£é™¤ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰                                                          |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éŸ³é‡èª¿æ•´                         | - (Discord API ã«ç›´æ¥çš„ãªãƒ¡ã‚½ãƒƒãƒ‰ã¯å­˜åœ¨ã—ãªã„) | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®éŸ³é‡ã‚’èª¿æ•´ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã€‚å…·ä½“çš„ãªå®Ÿè£…ã¯ã€éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã—ã¦å®Ÿç¾ã™ã‚‹ã“ã¨ãŒå¿…è¦                                      |
| ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã®å†ç”Ÿ                   | ã‚«ã‚¹ã‚¿ãƒ å®Ÿè£…ãŒå¿…è¦                             | ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã€Opus å½¢å¼ã«å¤‰æ›ã—ã€`v.OpusSend`ã‚’åˆ©ç”¨ã—ã¦ãƒœã‚¤ã‚¹ãƒãƒ£ãƒ³ãƒãƒ«ã«é€ä¿¡ã™ã‚‹                             |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚³ãƒãƒ³ãƒ‰å‡¦ç† | ã‚«ã‚¹ã‚¿ãƒ å®Ÿè£…ãŒå¿…è¦                             | ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å—ã‘å–ã‚Šã€ãã‚Œã«å¿œã˜ã¦ Voice Bot ã®å‹•ä½œã‚’å¤‰æ›´ã™ã‚‹ãªã©ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªå‡¦ç†ã‚’å®Ÿç¾ |

:::details å®Ÿè£…ä¾‹

```go
dg, err := discordgo.New("Bot " + TOKEN)
...
// ãƒœãƒƒãƒˆãŒå‚åŠ ã™ã‚‹ã‚®ãƒ«ãƒ‰ã¨ãƒãƒ£ãƒ³ãƒãƒ«ã® IDã€ãƒŸãƒ¥ãƒ¼ãƒˆã‚„ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãªã©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å¼•æ•°ã¨ã—ã¦å—ã‘å–ã‚‹ã€‚
v, err := dg.ChannelVoiceJoin(guildID, channelID, true, false)
```

- ãƒœã‚¤ã‚¹ãƒãƒ£ãƒ³ãƒãƒ«ã§åŠ¹æœéŸ³ã‚’é€ä¿¡ã™ã‚‹
  - `dca`ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€

```go
func playSound(s *discordgo.Session, guildID, channelID string) (err error) {
	vc, err := s.ChannelVoiceJoin(guildID, channelID, false, true)
	if err != nil {
		return err
	}
	defer vc.Disconnect()

	time.Sleep(250 * time.Millisecond)
	vc.Speaking(true)
	for _, buff := range buffer {
		vc.OpusSend <- buff
	}
	vc.Speaking(false)
	time.Sleep(250 * time.Millisecond)

	return nil
}
```

- éŒ²éŸ³

https://github.com/sugar-cat7/example-discord-bot/tree/main/voice-bot

- åŠ¹æœéŸ³

https://github.com/sugar-cat7/example-discord-bot/tree/main/airhorn-message
:::

## 3. Discord Bot ã®é‹ç”¨

### 3.1. é–‹ç™ºè¨€èª

Bot ã‚’é–‹ç™ºã™ã‚‹éš›ã®ä¸»è¦ãªè¨€èªã€ãã‚Œãã‚Œã® SDK ã®ç‰¹æ€§ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

https://discord.com/developers/docs/topics/community-resources

Discord Bot ã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã®è¨€èªã¯å¤šå²ã«ã‚ãŸã‚Šã¾ã™ã€‚ä»¥ä¸‹ã¯ä¸»è¦ãªè¨€èªã¨ã€ãã‚Œãã‚Œã® SDK ã®ç‰¹æ€§ã€æƒ…å ±æºã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚

:::message
é€šå¸¸ã® Bot ã‚’å®Ÿè£…ã™ã‚‹ä¸Šã§å¿…è¦ãªæ©Ÿèƒ½ã¯ã€ã»ã¨ã‚“ã©ã®è¨€èªã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚
:::
| è¨€èª | SDK ã®ç‰¹æ€§ | OSS |
| ---------- | ------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------- |
| Python | è±Šå¯Œãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€é«˜åº¦ãªæ©Ÿèƒ½ã‚’æŒã¤ Bot ã®é–‹ç™ºãŒå¯èƒ½ã€‚ä¸»ã«éåŒæœŸå‡¦ç†ã«å¯¾å¿œã—ã¦ã„ã‚‹ã€‚ | [discord.py](https://discordpy.readthedocs.io/ja/latest/), [hikari](https://hikari-py.github.io/hikari/) |
| JavaScript | Node.js ä¸Šã§å‹•ä½œã™ã‚‹ Bot å‘ã‘ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€‚éåŒæœŸå‡¦ç†ã‚’ã‚µãƒãƒ¼ãƒˆã—ã€åŠ¹ç‡çš„ãª Bot é–‹ç™ºãŒã§ãã‚‹ã€‚ | [discord.js](https://discord.js.org/#/), [Eris](https://abal.moe/Eris/) |
| Java | å‹å®‰å…¨æ€§ã‚’æ´»ã‹ã—ãŸ Bot é–‹ç™ºãŒå¯èƒ½ã€‚å¤§è¦æ¨¡ãª Bot ã®é–‹ç™ºãƒ»é‹ç”¨ã«é©ã—ã¦ã„ã‚‹ã€‚ | [JDA](https://github.com/DV8FromTheWorld/JDA), [Discord4J](https://discord4j.com/) |
| C# | .NET ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸ Bot é–‹ç™ºãŒè¡Œãˆã‚‹ã€‚éåŒæœŸå‡¦ç†ã‚„ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚’ã‚µãƒãƒ¼ãƒˆã€‚ | [Discord.Net](https://github.com/discord-net/Discord.Net), [DSharpPlus](https://github.com/DSharpPlus/DSharpPlus) |
| Go | Go è¨€èªã®ç‰¹æ€§ã‚’æ´»ã‹ã—ãŸã€é«˜æ€§èƒ½ãƒ»ä¸¦è¡Œå‡¦ç†ãŒå¾—æ„ãª Bot ã®é–‹ç™ºãŒå¯èƒ½ã€‚ | [DiscordGo](https://github.com/bwmarrin/discordgo) |
| Clojure | JVM ä¸Šã§å‹•ä½œã™ã‚‹é–¢æ•°å‹è¨€èªã§ã® Bot é–‹ç™ºãŒå¯èƒ½ã€‚ | [discljord](https://github.com/IGJoshua/discljord) |
| C++ | æ€§èƒ½ã‚’è¿½æ±‚ã—ãŸ Bot é–‹ç™ºãŒå¯èƒ½ã€‚ | [D++](https://github.com/brainboxdotcc/DPP) |
| Lua | è»½é‡ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆè¨€èªã§ã® Bot é–‹ç™ºãŒè¡Œãˆã‚‹ã€‚ | [Discordia](https://github.com/SinisterRectus/Discordia) |
| PHP | Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã®é€£æºã‚’é‡è¦–ã—ãŸ Bot é–‹ç™ºãŒå¯èƒ½ã€‚ | [DiscordPHP](https://github.com/discord-php/DiscordPHP) |
| Rust | é«˜æ€§èƒ½ã‹ã¤å®‰å…¨æ€§ã‚’é‡è¦–ã—ãŸ Bot ã®é–‹ç™ºãŒè¡Œãˆã‚‹ã€‚ | [Serenity](https://github.com/serenity-rs/serenity) |
| Ruby | ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã®ç‰¹æ€§ã‚’æ´»ã‹ã—ãŸ Bot é–‹ç™ºãŒå¯èƒ½ã€‚ | [discordrb](https://github.com/shardlab/discordrb) |

### 3.2. Interactions

Interactions ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ„ãƒ¼ãƒ«ã¯å¤šæ•°ã‚ã‚Šã¾ã™ã€‚Webhook çµŒç”±ã§ Interactions ã‚’å—ä¿¡ã™ã‚‹å ´åˆã«å¿…é ˆã¨ãªã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨èªè¨¼ãƒã‚§ãƒƒã‚¯ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚„ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®å‹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã¯ãã®ä»£è¡¨çš„ãªã‚‚ã®ã‚’ä¸€éƒ¨ç´¹ä»‹ã—ã¾ã™ã€‚

| è¨€èª       | ç‰¹æ€§                                                                                                                                                      | æƒ…å ±æº                                                                                |
| ---------- | --------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| C#         | Interactions via outgoing webhook ã®ã‚µãƒãƒ¼ãƒˆ                                                                                                              | [Discord.Net.Rest](https://github.com/discord-net/Discord.Net)                        |
| Dart       | Slash commands ã‚µãƒãƒ¼ãƒˆã€Commands framework ã‚’å«ã¿ã€ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§å‹•ä½œã€å…¨ã¦ã®é€ä¿¡ HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚„ WebSocket ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãŒå¯èƒ½ã€‚ | [nyxx](https://github.com/nyxx-discord/nyxx)                                          |
| Go         | Minimal caching ã‚’æŒã¤é«˜é€Ÿãª API ãƒ©ãƒƒãƒ‘ãƒ¼                                                                                                                 | [Tempest](https://github.com/Amatsagu/Tempest)                                        |
| Javascript | Interactions webhook ã‚’å®Ÿè£…ã™ã‚‹éš›ã«å½¹ç«‹ã¤ã‚¿ã‚¤ãƒ—ã¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã‚’æä¾›                                                                                       | [discord-interactions-js](https://github.com/discord/discord-interactions-js)         |
| Python     | Python å‘ã‘ã® Interactions ã‚µãƒãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒª                                                                                                             | [discord-interactions-python](https://github.com/discord/discord-interactions-python) |
| PHP        | Interactions webhook ã‚’å®Ÿè£…ã™ã‚‹éš›ã«å½¹ç«‹ã¤ã‚¿ã‚¤ãƒ—ã¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã‚’æä¾›                                                                                       | [discord-interactions-php](https://github.com/CleanlyDev/discord-interactions-php)    |

### 3.3. API Types

Discord API ç”¨ã®ã‚·ãƒ³ãƒ—ãƒ«ãªå‹å®šç¾©ã§ã™ã€‚

| åå‰                                                                | è¨€èª       |
| ------------------------------------------------------------------- | ---------- |
| [dasgo](https://github.com/switchupcb/dasgo)                        | Go         |
| [discord-api-types](https://github.com/discordjs/discord-api-types) | JavaScript |

### 3.4. Discord Bot ã®é–‹ç™ºã‚’æ”¯ãˆã‚‹ãƒ„ãƒ¼ãƒ«

#### Game SDK Tools

Discord Game SDK ã¨ä»–ã®ã‚²ãƒ¼ãƒ ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆä¾‹: Valve ã® Steamworks SDKï¼‰ã®ãƒ­ãƒ“ãƒ¼ã¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å±¤ã¯é¡ä¼¼ã—ã¦ã„ã¾ã™ã€‚ä»¥ä¸‹ã® OSS ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€å…±æœ‰æ©Ÿèƒ½ã®ãŸã‚ã®çµ±ä¸€ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’é–‹ç™ºè€…ã«æä¾›ã—ã€è¤‡æ•°ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã®é–‹ç™ºã‚’ç°¡ç•¥åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å                                                               | è©³ç´°                     | å¯¾å¿œãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  |
| ---------------------------------------------------------------------- | ------------------------ | -------------------- |
| [HouraiNetworking](https://github.com/HouraiTeahouse/HouraiNetworking) | Unity3D å‘ã‘ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | Unity3D              |

#### Dispatch Tools

Discord ã® Dispatch ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã‚²ãƒ¼ãƒ ã‚’ Discord ã§å…¬é–‹ã™ã‚‹éš›ã«ä½¿ç”¨ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å                                                                           | è©³ç´°                                                    |
| ---------------------------------------------------------------------------------- | ------------------------------------------------------- |
| [JohnyTheCarrot's Dispatch CLI](https://github.com/JohnyTheCarrot/droops-dispatch) | ã‚²ãƒ¼ãƒ ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ Push ã™ã‚‹ã¨ãã® Webhook ã‚µãƒãƒ¼ãƒˆ |

#### Permission Calculators

Discord ã®æ¨©é™ã¯è¤‡é›‘ã§ã™ãŒã€ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ãˆã°ç°¡å˜ã«è¨ˆç®—ã§ãã¾ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å                                                                                              | è©³ç´°           |
| ----------------------------------------------------------------------------------------------------- | -------------- |
| [FiniteReality's Permissions Calculator](https://finitereality.github.io/permissions-calculator/?v=0) | æ¨©é™è¨ˆç®—ãƒ„ãƒ¼ãƒ« |
| [abalabahaha's Permissions Calculator](https://discordapi.com/permissions.html#0)                     | æ¨©é™è¨ˆç®—ãƒ„ãƒ¼ãƒ« |

#### Intent Calculators

ã‚¤ãƒ³ãƒ†ãƒ³ãƒˆã¯ã€ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆç¾¤ã‚’ Bot ã«ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã•ã›ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å                                                                    | è©³ç´°              |
| --------------------------------------------------------------------------- | ----------------- |
| [ziad87's Intent Calculator](https://ziad87.net/intents/)                   | Intent è¨ˆç®—ãƒ„ãƒ¼ãƒ« |
| [Larko's Intent Calculator](https://discord-intents-calculator.vercel.app/) | Intent è¨ˆç®—ãƒ„ãƒ¼ãƒ« |

#### Embed Visualizers

Embeds ã®è¦–è¦šåŒ–ã«å½¹ç«‹ã¤ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

| ãƒ„ãƒ¼ãƒ«å                                                                                      | è©³ç´°                                              |
| --------------------------------------------------------------------------------------------- | ------------------------------------------------- |
| [Autocode Embed Builder](https://autocode.com/tools/discord/embed-builder/)                   | Embed ã®ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶                            |
| [JohnyTheCarrot's Embed Previewer](https://github.com/JohnyTheCarrot/discord-embed-previewer) | Discord å†…ã§ã® Embed è¡¨ç¤ºã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãƒ–ãƒ©ã‚¦ã‚¶æ‹¡å¼µ |

### 3.5. ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å…ˆ

Bot ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å…ˆã«ã¯æ§˜ã€…ãªé¸æŠè‚¢ãŒã‚ã‚Šã¾ã™ã€‚
WebSocket ã§ãƒãƒ£ãƒ³ãƒãƒ«å†…ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ Listen ã™ã‚‹ãŸã‚ã« Bot ã‚’å¸¸æ™‚èµ·å‹•ã§ãã‚‹ãƒãƒãƒ¼ã‚¸ãƒ‰ãªã‚µãƒ¼ãƒ“ã‚¹ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚

| ã‚µãƒ¼ãƒ“ã‚¹å                           | ã‚³ã‚¹ãƒˆ (æœˆ)      | RAM                 | CPU                   | ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸               | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è»¢é€é‡ | å‚™è€ƒ                                                       |
| ------------------------------------ | ---------------- | ------------------- | --------------------- | ------------------------ | ------------------ | ---------------------------------------------------------- |
| [Render](https://render.com/)        | $0 (åˆ¶é™ã‚ã‚Š)    | 512 MB              | 0.1 vCPU              | -                        | -                  | [åˆ¶é™è©³ç´°](https://render.com/docs/free#free-web-services) |
| [fly.io](https://fly.io/)            | ç„¡æ–™ãƒ—ãƒ©ãƒ³ã‚ã‚Š   | 256 MB (3 VMs ã¾ã§) | å…±æœ‰ CPU (3 VMs ã¾ã§) | 3 GB (åˆè¨ˆ)              | 160 GB             | 3 VMs (V2 apps, V1 apps, Machines åˆè¨ˆ)                    |
| [replit](https://replit.com/)        | ç„¡æ–™ãƒ—ãƒ©ãƒ³ã‚ã‚Š   | 0.5 GiB             | 0.5 vCPUs             | 10 GiB                   | 10 GiB (é–‹ç™ºç”¨)    | Unlimited Public Repls                                     |
| [Railway](https://docs.railway.app/) | åˆå› $5 ã¾ã§ç„¡æ–™ | $10/GB/æœˆ           | $20/vCPU/æœˆ           | $0.25/GB/æœˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) | $0.10/GB           | 2023 å¹´ 8 æœˆ 1 æ—¥ã‹ã‚‰ã®è»¢é€æ–™é‡‘                            |

ä¸Šè¨˜ä»¥å¤–ã«ã‚‚ã€Interaction çµŒç”±ã®ã¿ã®å‹•ä½œã€ã¾ãŸã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã‚’å—ã‘ä»˜ã‘ãªã„...ãªã©ã€Bot ã®æ©Ÿèƒ½ã«ã‚ˆã£ã¦ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å…ˆã®é¸æŠè‚¢ã¯ç•°ãªã‚Šã¾ã™ã€‚
å¸¸é§ã®å¿…è¦ãŒãªã HTTP Interaction ã®ã¿ã®åˆ©ç”¨ã§ååˆ†ãªå ´åˆã¯ã€Lambda ã‚„ Cloudflare Workers ãªã©ã® Faas ã«ã‚ˆã‚‹ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚‚å¯èƒ½ãªãŸã‚æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

### 3.6. ä¸€èˆ¬ã«å…¬é–‹ã™ã‚‹å ´åˆ

Discord Bot ã‚’ä¸€èˆ¬ã«å…¬é–‹ã™ã‚‹éš›ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚„åˆ©ç”¨è€…ã®åˆ©ä¾¿æ€§ã€API ã®åˆ¶é™ãªã©ã•ã¾ã–ã¾ãªé¢ã§ã®æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

#### åŸºæœ¬æƒ…å ±

https://discord.com/developers/applications

- Bot ã¯ä¸€èˆ¬ã«å…¬é–‹ã™ã‚‹å ´åˆã€Discord Developer Portal ã§ã®å…¬é–‹è¨­å®šãŒå¿…è¦ã§ã™ã€‚
- Bot ã®å…¬é–‹è¨­å®šã¯ã€Discord Developer Portal ã®ã€ŒOAuth2ã€ã‚¿ãƒ–ã‹ã‚‰è¨­å®šã§ãã¾ã™ã€‚
- 100 ã‚µãƒ¼ãƒãƒ¼ä»¥ä¸Šã« Bot ã‚’å°å…¥ã™ã‚‹å ´åˆã¯[åˆ¥é€”ç”³è«‹](https://support.discord.com/hc/en-us/articles/360040720412#how-do-i-get-whitelisted)ãŒå¿…è¦ã§ã™ã€‚(75 ã‚µãƒ¼ãƒä»¥ä¸Šã«å°å…¥ã•ã‚Œã‚‹ã¨ Dev Portal ä¸Šã§æœ¬äººç¢ºèªãŒè¡Œã‚ã‚Œã¾ã™)

#### æ¨©é™ã¨æ©Ÿèƒ½ã®åˆ¶é™

ä¸æ­£åˆ©ç”¨ã‚’é˜²ããŸã‚ã€ãƒœãƒƒãƒˆã«ã¯å¿…è¦æœ€ä½é™ã®æ¨©é™ã®ã¿ã‚’ä¸ãˆã‚‹ã®ãŒåŸºæœ¬ã§ã™ã€‚
ãƒœãƒƒãƒˆã®æ¨©é™ç®¡ç†ã¯ã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆå½¢å¼ã®è¨±å¯åˆ¶ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚(ãƒœãƒƒãƒˆã«æ˜ç¤ºçš„ã«æ¨©é™ãŒä»˜ä¸ã•ã‚Œãªã„é™ã‚Šã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯å®Ÿè¡Œã§ãã¾ã›ã‚“)

![æ¨©é™](https://github.com/sugar-cat7/example-discord-bot/raw/main/images/Readme/image.png)

ã¾ãŸã‚µãƒ¼ãƒãƒ¼å´ã§ã‚³ãƒãƒ³ãƒ‰æ¨©é™ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ã‚³ãƒãƒ³ãƒ‰(`/hoge`) Interaction ã®å®Ÿè¡Œã‚’åˆ¶é™ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

https://zenn.dev/voiscord/articles/e0e3595a44ecf4

https://support.discord.com/hc/ja/articles/4644915651095-%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E6%A8%A9%E9%99%90

#### API ãƒªãƒŸãƒƒãƒˆã«ã¤ã„ã¦

Discord API ã¯ä¸€å®šã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’è¶…ãˆã‚‹ã¨ Bot ãŒä¸€æ™‚çš„ã«å‹•ä½œã‚’åœæ­¢ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

https://discord.com/developers/docs/topics/rate-limits

**1. ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã®ç¨®é¡ã¨è©³ç´°**

| ã‚¿ã‚¤ãƒ—              | èª¬æ˜                                                                                                            | ä¸Šé™å€¤                                  |
| ------------------- | --------------------------------------------------------------------------------------------------------------- | --------------------------------------- |
| **Per-route**       | å€‹åˆ¥ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®åˆ¶é™ã€‚HTTP ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ç¨®é¡ã«ã‚ˆã‚‹ã€‚ãƒ˜ãƒƒãƒ€ãƒ¼`X-RateLimit-Bucket`ã‚’å‚ç…§ã€‚ | ãƒ˜ãƒƒãƒ€ãƒ¼`X-RateLimit-Limit`ã«ç¤ºã•ã‚Œã‚‹å€¤ |
| **Global**          | ãƒœãƒƒãƒˆã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¨ä½“ã¨ã—ã¦è¡Œã†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®åˆ¶é™ã€‚                                                              | 1 ç§’ã‚ãŸã‚Š 50 ãƒªã‚¯ã‚¨ã‚¹ãƒˆ                |
| **Emoji-specific**  | çµµæ–‡å­—ã«é–¢ã™ã‚‹ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯é€šå¸¸ã®åˆ¶é™ã¨ã¯ç•°ãªã‚‹ã€‚                                                            | å…·ä½“çš„ãªä¸Šé™å€¤ã¯æç¤ºã•ã‚Œã¦ã„ãªã„        |
| **Invalid Request** | ç„¡åŠ¹ãª HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®åˆ¶é™ã€‚ä¸»ã« 401ã€403ã€429 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã«é–¢é€£ã€‚                                             | 10 åˆ†é–“ã« 10,000 ãƒªã‚¯ã‚¨ã‚¹ãƒˆ             |

**2. ä¸»ãªãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆé–¢é€£ãƒ˜ãƒƒãƒ€ãƒ¼**

| ãƒ˜ãƒƒãƒ€ãƒ¼å                | èª¬æ˜                                                                                           |
| ------------------------- | ---------------------------------------------------------------------------------------------- |
| `X-RateLimit-Limit`       | ãã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸Šé™å€¤                                                           |
| `X-RateLimit-Remaining`   | æ®‹ã‚Šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå›æ•°                                                                           |
| `X-RateLimit-Reset`       | ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã‚¨ãƒãƒƒã‚¯ã‚¿ã‚¤ãƒ (1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 UTC ã‹ã‚‰ã®ç§’æ•°)        |
| `X-RateLimit-Reset-After` | ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã‚‹ã¾ã§ã®æ™‚é–“(ç§’)                                                   |
| `X-RateLimit-Bucket`      | ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã®ä¸€æ„ãªè­˜åˆ¥å­                                                                   |
| `X-RateLimit-Global`      | 429 ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ã®ã¿è¿”ã•ã‚Œã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã«ãƒ’ãƒƒãƒˆã—ãŸã“ã¨ã‚’ç¤ºã™ãƒ•ãƒ©ã‚°             |
| `X-RateLimit-Scope`       | 429 ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ã®ã¿è¿”ã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã€ã¾ãŸã¯ãƒªã‚½ãƒ¼ã‚¹ã®ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã®ç¨®é¡ã‚’ç¤ºã™ |

:::message
ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã‚’è¶…ãˆãŸå ´åˆ
:::

API ã‹ã‚‰ã®å¿œç­”ã¯ HTTP 429 ã¨ã—ã¦è¿”ã•ã‚Œã‚‹ã€‚å¿œç­”ã«ã¯`Retry-After`ãƒ˜ãƒƒãƒ€ãƒ¼ã¾ãŸã¯`retry_after`ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå«ã¾ã‚Œã€å†è©¦è¡Œã™ã‚‹ã¾ã§ã®å¾…æ©Ÿæ™‚é–“ãŒç¤ºã•ã‚Œã¾ã™ã€‚

**æ³¨æ„ç‚¹**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆã«ãƒ’ãƒƒãƒˆã™ã‚‹ã®ã‚’é¿ã‘ã‚‹ãŸã‚ã€å¿œç­”ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’é©åˆ‡ã«è§£æã—ã€åˆ¶é™ã«å¾“ã£ã¦å‹•ä½œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ç‰¹ã«ã€401 ã‚„ 403 ãªã©ã®ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é©åˆ‡ã«å‡¦ç†ã™ã‚‹ã“ã¨ã§ã€ç„¡åŠ¹ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆåˆ¶é™ã«ãƒ’ãƒƒãƒˆã™ã‚‹ãƒªã‚¹ã‚¯ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

## 4. ä¸€èˆ¬å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ Bot ã®ç´¹ä»‹

- å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ Discord Bot ã®ä¸€è¦§ãŒãƒ©ãƒ³ã‚­ãƒ³ã‚°å½¢å¼ã§é–²è¦§ã§ãã¾ã™ã€‚

https://top.gg/

- VOICEVOX èª­ã¿ä¸Šã’ Bot

https://zenn.dev/kuronekoserver/articles/6080dd36129a15

- (è‘—è€…ãŒä½œæˆã—ãŸ)Vtuber ã‚°ãƒ«ãƒ¼ãƒ— ã®é…ä¿¡ã‚’é€šçŸ¥ã™ã‚‹ Bot
  [Tweet](https://twitter.com/vspodule/status/1699057082513920186)

## 5. å‚è€ƒæ–‡çŒ®

https://discord.com/developers/docs/intro

https://scrapbox.io/discordpy-japan/

https://pkg.go.dev/github.com/bwmarrin/discordgo

https://zenn.dev/voiscord/articles/e0e3595a44ecf4

https://zenn.dev/suzuesa/articles/2bf80f33013a14
